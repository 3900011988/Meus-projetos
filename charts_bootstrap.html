<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Google Charts</title>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="java_externo.js"></script>
  <script>
    // Carrega Google Charts uma vez
    google.charts.load('current', {packages: ['corechart','line']});

    // Função para executar ao clicar
    const executar = () => {
      const input = document.getElementById("v1").value;
      const x = Number(input); // converte para número
      if (isNaN(x)) {
        alert("Digite um número válido!");
        return;
      }

      addValor(x); // função definida em java_externo.js
      drawBasic(); // desenha gráfico
      document.getElementById("media").innerHTML = `Média: ${media()}`; // função definida em java_externo.js
    }
  </script>
</head>
<body class="container">
  <h1 class="mt-3">Google Charts</h1>

  <div class="m-2">
    <label for="v1" class="form-label">Valor de X</label>
    <input class="form-control" type="number" id="v1"/>
    <button class="btn btn-primary mt-2" onclick="executar()">Executar</button>
  </div>

  <div id="chart_div" class="mt-3"></div>
  <div class="alert alert-warning mt-3" id="resp"></div>
  <div id="media" class="mt-3"></div>
</body>
</html>
